{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\who30\\\\Desktop\\\\Daelim_shop-master\\\\Daelim_shop-master\\\\client\\\\src\\\\LandingPage.js\";\nimport React, { Component, useEffect, useState } from 'react';\nimport { FaCode } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { Icon, Col, Card, Row, Carousel } from 'antd';\nimport Meta from 'antd/lib/card/Meta';\nimport ImageSlider from './ImageSlider';\nimport Checkbox from './CheckBox';\nimport Radiobox from './RadioBox';\nimport SearchFeature from './SearchFeature';\nimport { continents, price } from './Datas';\nimport styled from 'styled-components';\n\nfunction LandingPage() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState(0);\n  const [Filters, setFilters] = useState({\n    continents: [],\n    price: []\n  });\n  useEffect(() => {\n    let body = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProducts(body);\n  }, []);\n\n  const getProducts = body => {\n    axios.post('/api/product/products', body).then(response => {\n      if (response.data.success) {\n        if (body.loadMore) {\n          setProducts([...Products, ...response.data.productInfo]);\n        } else {\n          setProducts(response.data.productInfo);\n        }\n\n        setPostSize(response.data.postSize);\n      } else {\n        alert(\" 상품들을 가져오는데 실패 했습니다.\");\n      }\n    });\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      md: 8,\n      xs: 24,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Cards, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `/product/${product._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Img, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(ImageSlider, {\n      images: product.images,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 20\n      }\n    }))), /*#__PURE__*/React.createElement(Meta, {\n      title: product.title,\n      description: `$${product.price}원`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    })));\n  });\n\n  const showFilteredResults = filters => {\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: filters\n    };\n    getProducts(body);\n    setSkip(0);\n  };\n\n  const handlePrice = value => {\n    const data = price;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value, 10)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters\n    };\n    newFilters[category] = filters;\n    console.log('filters', filters);\n\n    if (category === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters[category] = priceValues;\n    }\n\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    list: continents,\n    handleFilters: filters => handleFilters(filters, \"continents\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Radiobox, {\n    list: price,\n    handleFilters: filters => handleFilters(filters, \"price\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, renderCards), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }));\n}\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 1200px;\n  height :500px;\n  justify-content : center;\n  \n\n  > div {\n    width: 100%;\n  }\n`;\nconst Cards = styled.div`\n    float : left;\n    border : solid 1px lightgrey;\n    padding : 10px;\n    font-weight :bold;\n`;\nconst Img = styled.div`\n    width : 275px;\n    height : 150px;\n`;\nexport default LandingPage;","map":{"version":3,"sources":["C:/Users/who30/Desktop/Daelim_shop-master/Daelim_shop-master/client/src/LandingPage.js"],"names":["React","Component","useEffect","useState","FaCode","axios","Icon","Col","Card","Row","Carousel","Meta","ImageSlider","Checkbox","Radiobox","SearchFeature","continents","price","styled","LandingPage","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","Filters","setFilters","body","skip","limit","getProducts","post","then","response","data","success","loadMore","productInfo","postSize","alert","renderCards","map","product","index","_id","images","title","showFilteredResults","filters","handlePrice","value","array","key","parseInt","handleFilters","category","newFilters","console","log","priceValues","Container","div","Cards","Img"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react'\r\nimport { FaCode } from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\nimport { Icon, Col, Card, Row, Carousel } from 'antd';\r\nimport Meta from 'antd/lib/card/Meta';\r\nimport ImageSlider from './ImageSlider';\r\nimport Checkbox from './CheckBox';\r\nimport Radiobox from './RadioBox';\r\nimport SearchFeature from './SearchFeature';\r\nimport { continents, price } from './Datas';\r\nimport styled from 'styled-components';\r\n\r\n\r\n\r\nfunction LandingPage() {\r\n\r\n    const [Products, setProducts] = useState([])\r\n    const [Skip, setSkip] = useState(0)\r\n    const [Limit, setLimit] = useState(8)\r\n    const [PostSize, setPostSize] = useState(0)\r\n    const [Filters, setFilters] = useState({\r\n        continents: [],\r\n        price: []\r\n    })\r\n\r\n    useEffect(() => {\r\n\r\n        let body = {\r\n            skip: Skip,\r\n            limit: Limit\r\n        }\r\n\r\n        getProducts(body)\r\n\r\n    }, [])\r\n\r\n    const getProducts = (body) => {\r\n        axios.post('/api/product/products', body)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    if (body.loadMore) {\r\n                        setProducts([...Products, ...response.data.productInfo])\r\n                    } else {\r\n                        setProducts(response.data.productInfo)\r\n                    }\r\n                    setPostSize(response.data.postSize)\r\n                } else {\r\n                    alert(\" 상품들을 가져오는데 실패 했습니다.\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const renderCards = Products.map((product, index) => {\r\n\r\n        return <Col lg={6} md={8} xs={24} key={index}>\r\n            <Cards>\r\n               {<a href={`/product/${product._id}`} >\r\n                   <Img>\r\n                   <ImageSlider images={product.images} />\r\n                   </Img>\r\n                   </a>}\r\n                <Meta\r\n                    title={product.title}\r\n                    description={`$${product.price}원`}\r\n                />\r\n            </Cards>\r\n        </Col>\r\n    })\r\n\r\n    const showFilteredResults = (filters) => {\r\n\r\n        let body = {\r\n            skip: 0,\r\n            limit: Limit,\r\n            filters: filters\r\n        }\r\n\r\n        getProducts(body)\r\n        setSkip(0)\r\n\r\n    }\r\n\r\n\r\n    const handlePrice = (value) => {\r\n        const data = price;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value, 10)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n    const handleFilters = (filters, category) => {\r\n\r\n        const newFilters = { ...Filters }\r\n\r\n        newFilters[category] = filters\r\n\r\n        console.log('filters', filters)\r\n\r\n        if (category === \"price\") {\r\n            let priceValues = handlePrice(filters)\r\n            newFilters[category] = priceValues\r\n        }\r\n        showFilteredResults(newFilters)\r\n        setFilters(newFilters)\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n\r\n            <Row gutter={[16, 16]}>\r\n                <Col lg={12} xs={24}>\r\n                    {/* CheckBox */}\r\n                    <Checkbox list={continents} handleFilters={filters => handleFilters(filters, \"continents\")} />\r\n                </Col>\r\n                <Col lg={12} xs={24}>\r\n                    {/* RadioBox */}\r\n                    <Radiobox list={price} handleFilters={filters => handleFilters(filters, \"price\")} />\r\n                </Col>\r\n            </Row>\r\n\r\n{/* \r\n            {/* Search */}\r\n\r\n            {/* <div style={{ display: 'flex', justifyContent: 'flex-end', margin: '1rem auto' }}>\r\n                <SearchFeature\r\n                    refreshFunction={updateSearchTerm}\r\n                />\r\n            </div>  */}\r\n\r\n            {/* Cards */}\r\n\r\n            <Card>\r\n            \r\n                {renderCards}\r\n            \r\n            </Card>\r\n           \r\n\r\n            <br />\r\n    \r\n\r\n        </Container>\r\n    )\r\n}\r\nconst Container = styled.div`\r\n  margin: 0 auto;\r\n  width: 1200px;\r\n  height :500px;\r\n  justify-content : center;\r\n  \r\n\r\n  > div {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Cards = styled.div `\r\n    float : left;\r\n    border : solid 1px lightgrey;\r\n    padding : 10px;\r\n    font-weight :bold;\r\n`\r\nconst Img = styled.div `\r\n    width : 275px;\r\n    height : 150px;\r\n`\r\n\r\n\r\n\r\n\r\nexport default LandingPage"]},"metadata":{},"sourceType":"module"}