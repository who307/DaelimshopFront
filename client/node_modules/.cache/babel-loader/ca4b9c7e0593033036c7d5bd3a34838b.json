{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\who30\\\\Desktop\\\\Daelim_shop-master\\\\Daelim_shop-master\\\\client\\\\src\\\\LandingPage.js\";\nimport React, { Component, useEffect, useState } from 'react';\nimport { FaCode } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { Icon, Col, Card, Row, Carousel } from 'antd';\nimport Meta from 'antd/lib/card/Meta';\nimport ImageSlider from './ImageSlider';\nimport Checkbox from './CheckBox';\nimport Radiobox from './RadioBox';\nimport SearchFeature from './SearchFeature';\nimport { continents, price } from './Datas';\nimport styled from 'styled-components';\n\nfunction LandingPage() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState(0);\n  const [Filters, setFilters] = useState({\n    continents: [],\n    price: []\n  });\n  const [SearchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    let body = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProducts(body);\n  }, []);\n\n  const getProducts = body => {\n    axios.post('/api/product/products', body).then(response => {\n      if (response.data.success) {\n        if (body.loadMore) {\n          setProducts([...Products, ...response.data.productInfo]);\n        } else {\n          setProducts(response.data.productInfo);\n        }\n\n        setPostSize(response.data.postSize);\n      } else {\n        alert(\" 상품들을 가져오는데 실패 했습니다.\");\n      }\n    });\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      md: 8,\n      xs: 24,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Cards, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `/product/${product._id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Img, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(ImageSlider, {\n      images: product.images,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }\n    }))), /*#__PURE__*/React.createElement(Meta, {\n      title: product.title,\n      description: `$${product.price}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    })));\n  });\n\n  const showFilteredResults = filters => {\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: filters\n    };\n    getProducts(body);\n    setSkip(0);\n  };\n\n  const handlePrice = value => {\n    const data = price;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value, 10)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters\n    };\n    newFilters[category] = filters;\n    console.log('filters', filters);\n\n    if (category === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters[category] = priceValues;\n    }\n\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  const updateSearchTerm = newSearchTerm => {\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm\n    };\n    setSkip(0);\n    setSearchTerm(newSearchTerm);\n    getProducts(body);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    list: continents,\n    handleFilters: filters => handleFilters(filters, \"continents\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Radiobox, {\n    list: price,\n    handleFilters: filters => handleFilters(filters, \"price\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, renderCards), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }));\n}\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 1200px;\n  height :500px;\n  justify-content : center;\n  \n\n  > div {\n    width: 100%;\n  }\n`;\nconst Cards = styled.div`\n    float : left;\n    border : solid 1px lightgrey;\n    padding : 10px;\n`;\nconst Img = styled.div`\n    width : 275px;\n    height : 150px;\n    display : flex;\n`;\nexport default LandingPage;","map":{"version":3,"sources":["C:/Users/who30/Desktop/Daelim_shop-master/Daelim_shop-master/client/src/LandingPage.js"],"names":["React","Component","useEffect","useState","FaCode","axios","Icon","Col","Card","Row","Carousel","Meta","ImageSlider","Checkbox","Radiobox","SearchFeature","continents","price","styled","LandingPage","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","Filters","setFilters","SearchTerm","setSearchTerm","body","skip","limit","getProducts","post","then","response","data","success","loadMore","productInfo","postSize","alert","renderCards","map","product","index","_id","images","title","showFilteredResults","filters","handlePrice","value","array","key","parseInt","handleFilters","category","newFilters","console","log","priceValues","updateSearchTerm","newSearchTerm","searchTerm","Container","div","Cards","Img"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,QAA/B,QAA+C,MAA/C;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,UAAT,EAAqBC,KAArB,QAAkC,SAAlC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAGA,SAASC,WAAT,GAAuB;AAEnB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC;AACnCa,IAAAA,UAAU,EAAE,EADuB;AAEnCC,IAAAA,KAAK,EAAE;AAF4B,GAAD,CAAtC;AAIA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8B5B,QAAQ,CAAC,EAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAI8B,IAAI,GAAG;AACPC,MAAAA,IAAI,EAAEX,IADC;AAEPY,MAAAA,KAAK,EAAEV;AAFA,KAAX;AAKAW,IAAAA,WAAW,CAACH,IAAD,CAAX;AAEH,GATQ,EASN,EATM,CAAT;;AAWA,QAAMG,WAAW,GAAIH,IAAD,IAAU;AAC1B3B,IAAAA,KAAK,CAAC+B,IAAN,CAAW,uBAAX,EAAoCJ,IAApC,EACKK,IADL,CACUC,QAAQ,IAAI;AACd,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvB,YAAIR,IAAI,CAACS,QAAT,EAAmB;AACfpB,UAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAc,GAAGkB,QAAQ,CAACC,IAAT,CAAcG,WAA/B,CAAD,CAAX;AACH,SAFD,MAEO;AACHrB,UAAAA,WAAW,CAACiB,QAAQ,CAACC,IAAT,CAAcG,WAAf,CAAX;AACH;;AACDf,QAAAA,WAAW,CAACW,QAAQ,CAACC,IAAT,CAAcI,QAAf,CAAX;AACH,OAPD,MAOO;AACHC,QAAAA,KAAK,CAAC,sBAAD,CAAL;AACH;AACJ,KAZL;AAaH,GAdD;;AAqBA,QAAMC,WAAW,GAAGzB,QAAQ,CAAC0B,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAEjD,wBAAO,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,EAAE,EAAE,CAAhB;AAAmB,MAAA,EAAE,EAAE,EAAvB;AAA2B,MAAA,GAAG,EAAEA,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,IAAI,EAAG,YAAWD,OAAO,CAACE,GAAI,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,WAAD;AAAa,MAAA,MAAM,EAAEF,OAAO,CAACG,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADH,CADJ,eAMI,oBAAC,IAAD;AACI,MAAA,KAAK,EAAEH,OAAO,CAACI,KADnB;AAEI,MAAA,WAAW,EAAG,IAAGJ,OAAO,CAAC9B,KAAM,EAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADG,CAAP;AAaH,GAfmB,CAApB;;AAiBA,QAAMmC,mBAAmB,GAAIC,OAAD,IAAa;AAErC,QAAIrB,IAAI,GAAG;AACPC,MAAAA,IAAI,EAAE,CADC;AAEPC,MAAAA,KAAK,EAAEV,KAFA;AAGP6B,MAAAA,OAAO,EAAEA;AAHF,KAAX;AAMAlB,IAAAA,WAAW,CAACH,IAAD,CAAX;AACAT,IAAAA,OAAO,CAAC,CAAD,CAAP;AAEH,GAXD;;AAcA,QAAM+B,WAAW,GAAIC,KAAD,IAAW;AAC3B,UAAMhB,IAAI,GAAGtB,KAAb;AACA,QAAIuC,KAAK,GAAG,EAAZ;;AAEA,SAAK,IAAIC,GAAT,IAAgBlB,IAAhB,EAAsB;AAClB,UAAIA,IAAI,CAACkB,GAAD,CAAJ,CAAUR,GAAV,KAAkBS,QAAQ,CAACH,KAAD,EAAQ,EAAR,CAA9B,EAA2C;AACvCC,QAAAA,KAAK,GAAGjB,IAAI,CAACkB,GAAD,CAAJ,CAAUD,KAAlB;AACH;AACJ;;AACD,WAAOA,KAAP;AACH,GAVD;;AAYA,QAAMG,aAAa,GAAG,CAACN,OAAD,EAAUO,QAAV,KAAuB;AAEzC,UAAMC,UAAU,GAAG,EAAE,GAAGjC;AAAL,KAAnB;AAEAiC,IAAAA,UAAU,CAACD,QAAD,CAAV,GAAuBP,OAAvB;AAEAS,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBV,OAAvB;;AAEA,QAAIO,QAAQ,KAAK,OAAjB,EAA0B;AACtB,UAAII,WAAW,GAAGV,WAAW,CAACD,OAAD,CAA7B;AACAQ,MAAAA,UAAU,CAACD,QAAD,CAAV,GAAuBI,WAAvB;AACH;;AACDZ,IAAAA,mBAAmB,CAACS,UAAD,CAAnB;AACAhC,IAAAA,UAAU,CAACgC,UAAD,CAAV;AACH,GAdD;;AAgBA,QAAMI,gBAAgB,GAAIC,aAAD,IAAmB;AAExC,QAAIlC,IAAI,GAAG;AACPC,MAAAA,IAAI,EAAE,CADC;AAEPC,MAAAA,KAAK,EAAEV,KAFA;AAGP6B,MAAAA,OAAO,EAAEzB,OAHF;AAIPuC,MAAAA,UAAU,EAAED;AAJL,KAAX;AAOA3C,IAAAA,OAAO,CAAC,CAAD,CAAP;AACAQ,IAAAA,aAAa,CAACmC,aAAD,CAAb;AACA/B,IAAAA,WAAW,CAACH,IAAD,CAAX;AAEH,GAbD;;AAiBA,sBAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEhB,UAAhB;AAA4B,IAAA,aAAa,EAAEqC,OAAO,IAAIM,aAAa,CAACN,OAAD,EAAU,YAAV,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,EAAE,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEpC,KAAhB;AAAuB,IAAA,aAAa,EAAEoC,OAAO,IAAIM,aAAa,CAACN,OAAD,EAAU,OAAV,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALJ,CAFJ,eAwBI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKR,WAFL,CAxBJ,eA+BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BJ,CAFJ;AAoCH;;AACD,MAAMuB,SAAS,GAAGlD,MAAM,CAACmD,GAAI;;;;;;;;;;CAA7B;AAYA,MAAMC,KAAK,GAAGpD,MAAM,CAACmD,GAAK;;;;CAA1B;AAKA,MAAME,GAAG,GAAGrD,MAAM,CAACmD,GAAK;;;;CAAxB;AAQA,eAAelD,WAAf","sourcesContent":["import React, { Component, useEffect, useState } from 'react'\nimport { FaCode } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { Icon, Col, Card, Row, Carousel } from 'antd';\nimport Meta from 'antd/lib/card/Meta';\nimport ImageSlider from './ImageSlider';\nimport Checkbox from './CheckBox';\nimport Radiobox from './RadioBox';\nimport SearchFeature from './SearchFeature';\nimport { continents, price } from './Datas';\nimport styled from 'styled-components';\n\n\nfunction LandingPage() {\n\n    const [Products, setProducts] = useState([])\n    const [Skip, setSkip] = useState(0)\n    const [Limit, setLimit] = useState(8)\n    const [PostSize, setPostSize] = useState(0)\n    const [Filters, setFilters] = useState({\n        continents: [],\n        price: []\n    })\n    const [SearchTerm, setSearchTerm] = useState(\"\")\n\n    useEffect(() => {\n\n        let body = {\n            skip: Skip,\n            limit: Limit\n        }\n\n        getProducts(body)\n\n    }, [])\n\n    const getProducts = (body) => {\n        axios.post('/api/product/products', body)\n            .then(response => {\n                if (response.data.success) {\n                    if (body.loadMore) {\n                        setProducts([...Products, ...response.data.productInfo])\n                    } else {\n                        setProducts(response.data.productInfo)\n                    }\n                    setPostSize(response.data.postSize)\n                } else {\n                    alert(\" 상품들을 가져오는데 실패 했습니다.\")\n                }\n            })\n    }\n\n\n\n\n\n\n    const renderCards = Products.map((product, index) => {\n\n        return <Col lg={6} md={8} xs={24} key={index}>\n            <Cards>\n               {<a href={`/product/${product._id}`} >\n                   <Img>\n                   <ImageSlider images={product.images} />\n                   </Img>\n                   </a>}\n                <Meta\n                    title={product.title}\n                    description={`$${product.price}`}\n                />\n            </Cards>\n        </Col>\n    })\n\n    const showFilteredResults = (filters) => {\n\n        let body = {\n            skip: 0,\n            limit: Limit,\n            filters: filters\n        }\n\n        getProducts(body)\n        setSkip(0)\n\n    }\n\n\n    const handlePrice = (value) => {\n        const data = price;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value, 10)) {\n                array = data[key].array;\n            }\n        }\n        return array;\n    }\n\n    const handleFilters = (filters, category) => {\n\n        const newFilters = { ...Filters }\n\n        newFilters[category] = filters\n\n        console.log('filters', filters)\n\n        if (category === \"price\") {\n            let priceValues = handlePrice(filters)\n            newFilters[category] = priceValues\n        }\n        showFilteredResults(newFilters)\n        setFilters(newFilters)\n    }\n\n    const updateSearchTerm = (newSearchTerm) => {\n\n        let body = {\n            skip: 0,\n            limit: Limit,\n            filters: Filters,\n            searchTerm: newSearchTerm\n        }\n\n        setSkip(0)\n        setSearchTerm(newSearchTerm)\n        getProducts(body)\n\n    }\n\n\n\n    return (\n        \n        <Container>\n\n            <Row gutter={[16, 16]}>\n                <Col lg={12} xs={24}>\n                    {/* CheckBox */}\n                    <Checkbox list={continents} handleFilters={filters => handleFilters(filters, \"continents\")} />\n                </Col>\n                <Col lg={12} xs={24}>\n                    {/* RadioBox */}\n                    <Radiobox list={price} handleFilters={filters => handleFilters(filters, \"price\")} />\n                </Col>\n            </Row>\n\n{/* \n            {/* Search */}\n\n            {/* <div style={{ display: 'flex', justifyContent: 'flex-end', margin: '1rem auto' }}>\n                <SearchFeature\n                    refreshFunction={updateSearchTerm}\n                />\n            </div>  */}\n\n            {/* Cards */}\n            \n            <Card>\n            \n                {renderCards}\n            \n            </Card>\n           \n\n            <br />\n        </Container>\n    )\n}\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 1200px;\n  height :500px;\n  justify-content : center;\n  \n\n  > div {\n    width: 100%;\n  }\n`;\n\nconst Cards = styled.div `\n    float : left;\n    border : solid 1px lightgrey;\n    padding : 10px;\n`\nconst Img = styled.div `\n    width : 275px;\n    height : 150px;\n    display : flex;\n`\n\n\n\nexport default LandingPage\n"]},"metadata":{},"sourceType":"module"}